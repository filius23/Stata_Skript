<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>11 Fortgeschrittene Themen | GESIS Methodenseminar 2020</title>
  <meta name="description" content="Dies ist das Begleitskript für die Stata-Übungen zum GESIS Methodenseminar 2020" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="11 Fortgeschrittene Themen | GESIS Methodenseminar 2020" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Dies ist das Begleitskript für die Stata-Übungen zum GESIS Methodenseminar 2020" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="11 Fortgeschrittene Themen | GESIS Methodenseminar 2020" />
  
  <meta name="twitter:description" content="Dies ist das Begleitskript für die Stata-Übungen zum GESIS Methodenseminar 2020" />
  

<meta name="author" content="Andreas Filser" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="export1.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Gesis Methodenseminar</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Herzlich Willkommen!</a></li>
<li class="chapter" data-level="1" data-path="Stata1.html"><a href="Stata1.html"><i class="fa fa-check"></i><b>1</b> Einstieg in Stata</a><ul>
<li class="chapter" data-level="1.1" data-path="Stata1.html"><a href="Stata1.html#taschenrechner"><i class="fa fa-check"></i><b>1.1</b> Taschenrechner</a></li>
<li class="chapter" data-level="1.2" data-path="Stata1.html"><a href="Stata1.html#darstellung-in-diesem-skript"><i class="fa fa-check"></i><b>1.2</b> Darstellung in diesem Skript</a></li>
<li class="chapter" data-level="1.3" data-path="Stata1.html"><a href="Stata1.html#dofile-editor"><i class="fa fa-check"></i><b>1.3</b> DoFile Editor</a></li>
<li class="chapter" data-level="1.4" data-path="Stata1.html"><a href="Stata1.html#datensätze-laden"><i class="fa fa-check"></i><b>1.4</b> Datensätze laden</a></li>
<li class="chapter" data-level="1.5" data-path="Stata1.html"><a href="Stata1.html#daten-codebücher-fragebogen"><i class="fa fa-check"></i><b>1.5</b> Daten, Codebücher, Fragebogen</a></li>
<li class="chapter" data-level="1.6" data-path="Stata1.html"><a href="Stata1.html#überblicksbefehle"><i class="fa fa-check"></i><b>1.6</b> Überblicksbefehle</a><ul>
<li class="chapter" data-level="1.6.1" data-path="Stata1.html"><a href="Stata1.html#describe"><i class="fa fa-check"></i><b>1.6.1</b> <code>describe</code></a></li>
<li class="chapter" data-level="1.6.2" data-path="Stata1.html"><a href="Stata1.html#browse"><i class="fa fa-check"></i><b>1.6.2</b> <code>browse</code></a></li>
<li class="chapter" data-level="1.6.3" data-path="Stata1.html"><a href="Stata1.html#list"><i class="fa fa-check"></i><b>1.6.3</b> <code>list</code></a></li>
<li class="chapter" data-level="1.6.4" data-path="Stata1.html"><a href="Stata1.html#lookfor"><i class="fa fa-check"></i><b>1.6.4</b> <code>lookfor</code></a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="Stata1.html"><a href="Stata1.html#if-bedingung---nur-manche-zeilen-ansehen"><i class="fa fa-check"></i><b>1.7</b> if Bedingung - nur manche Zeilen ansehen</a></li>
<li class="chapter" data-level="1.8" data-path="Stata1.html"><a href="Stata1.html#U1"><i class="fa fa-check"></i><b>1.8</b> Übungen</a></li>
<li class="chapter" data-level="1.9" data-path="Stata1.html"><a href="Stata1.html#profi-übungen"><i class="fa fa-check"></i><b>1.9</b> Profi-Übungen</a></li>
<li class="chapter" data-level="1.10" data-path="Stata1.html"><a href="Stata1.html#weitere-anmerkungen"><i class="fa fa-check"></i><b>1.10</b> Weitere Anmerkungen</a><ul>
<li class="chapter" data-level="1.10.1" data-path="Stata1.html"><a href="Stata1.html#var_types"><i class="fa fa-check"></i><b>1.10.1</b> Variablentypen</a></li>
<li class="chapter" data-level="1.10.2" data-path="Stata1.html"><a href="Stata1.html#otherfmts"><i class="fa fa-check"></i><b>1.10.2</b> import anderer Dateiformate</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Stata2.html"><a href="Stata2.html"><i class="fa fa-check"></i><b>2</b> Arbeiten mit Datensätzen in Stata</a><ul>
<li class="chapter" data-level="2.1" data-path="Stata2.html"><a href="Stata2.html#vorab-befehlsstruktur-hilfe"><i class="fa fa-check"></i><b>2.1</b> Vorab: Befehlsstruktur &amp; Hilfe</a></li>
<li class="chapter" data-level="2.2" data-path="Stata2.html"><a href="Stata2.html#auszählen-überblick-erhalten"><i class="fa fa-check"></i><b>2.2</b> Auszählen &amp; Überblick erhalten</a></li>
<li class="chapter" data-level="2.3" data-path="Stata2.html"><a href="Stata2.html#neue-variablen-erstellen"><i class="fa fa-check"></i><b>2.3</b> Neue Variablen erstellen</a></li>
<li class="chapter" data-level="2.4" data-path="Stata2.html"><a href="Stata2.html#bestehende-variablen-verändern"><i class="fa fa-check"></i><b>2.4</b> Bestehende Variablen verändern</a></li>
<li class="chapter" data-level="2.5" data-path="Stata2.html"><a href="Stata2.html#gen-ist-gut-kontrolle-ist-besser"><i class="fa fa-check"></i><b>2.5</b> gen ist gut, Kontrolle ist besser</a></li>
<li class="chapter" data-level="2.6" data-path="Stata2.html"><a href="Stata2.html#fehlende-werte"><i class="fa fa-check"></i><b>2.6</b> Fehlende Werte</a></li>
<li class="chapter" data-level="2.7" data-path="Stata2.html"><a href="Stata2.html#if-bedingungen-und-fehlende-werte"><i class="fa fa-check"></i><b>2.7</b> if Bedingungen und fehlende Werte</a></li>
<li class="chapter" data-level="2.8" data-path="Stata2.html"><a href="Stata2.html#keep-drop"><i class="fa fa-check"></i><b>2.8</b> keep &amp; drop</a></li>
<li class="chapter" data-level="2.9" data-path="Stata2.html"><a href="Stata2.html#labels-und-if-bedingungen"><i class="fa fa-check"></i><b>2.9</b> Labels und if-Bedingungen</a></li>
<li class="chapter" data-level="2.10" data-path="Stata2.html"><a href="Stata2.html#nochmal-von-vorne-daten-neu-laden"><i class="fa fa-check"></i><b>2.10</b> Nochmal von vorne: Daten neu laden</a></li>
<li class="chapter" data-level="2.11" data-path="Stata2.html"><a href="Stata2.html#speichern"><i class="fa fa-check"></i><b>2.11</b> Speichern</a></li>
<li class="chapter" data-level="2.12" data-path="Stata2.html"><a href="Stata2.html#übungen"><i class="fa fa-check"></i><b>2.12</b> Übungen</a></li>
<li class="chapter" data-level="2.13" data-path="Stata1.html"><a href="Stata1.html#profi-übungen"><i class="fa fa-check"></i><b>2.13</b> Profi-Übungen</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="desc1.html"><a href="desc1.html"><i class="fa fa-check"></i><b>3</b> Deskriptive Statistik</a><ul>
<li class="chapter" data-level="3.1" data-path="desc1.html"><a href="desc1.html#kategoriale-merkmale"><i class="fa fa-check"></i><b>3.1</b> Kategoriale Merkmale</a><ul>
<li class="chapter" data-level="3.1.1" data-path="desc1.html"><a href="desc1.html#absolute-häufigkeiten"><i class="fa fa-check"></i><b>3.1.1</b> Absolute Häufigkeiten</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="desc1.html"><a href="desc1.html#metrische-variablen"><i class="fa fa-check"></i><b>3.2</b> Metrische Variablen</a></li>
<li class="chapter" data-level="3.3" data-path="desc1.html"><a href="desc1.html#exkurs-labels-vergeben"><i class="fa fa-check"></i><b>3.3</b> Exkurs: labels vergeben</a></li>
<li class="chapter" data-level="3.4" data-path="desc1.html"><a href="desc1.html#kontingenztabellen"><i class="fa fa-check"></i><b>3.4</b> Kontingenztabellen</a></li>
<li class="chapter" data-level="3.5" data-path="desc1.html"><a href="desc1.html#relative-häufigkeiten"><i class="fa fa-check"></i><b>3.5</b> Relative Häufigkeiten</a></li>
<li class="chapter" data-level="3.6" data-path="desc1.html"><a href="desc1.html#zeilenprozente"><i class="fa fa-check"></i><b>3.6</b> Zeilenprozente</a></li>
<li class="chapter" data-level="3.7" data-path="desc1.html"><a href="desc1.html#spaltenprozente"><i class="fa fa-check"></i><b>3.7</b> Spaltenprozente</a></li>
<li class="chapter" data-level="3.8" data-path="Stata2.html"><a href="Stata2.html#übungen"><i class="fa fa-check"></i><b>3.8</b> Übungen</a></li>
<li class="chapter" data-level="3.9" data-path="Stata1.html"><a href="Stata1.html#profi-übungen"><i class="fa fa-check"></i><b>3.9</b> Profi-Übungen</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="desc2.html"><a href="desc2.html"><i class="fa fa-check"></i><b>4</b> Mehr deskriptive Statistik</a><ul>
<li class="chapter" data-level="4.1" data-path="desc2.html"><a href="desc2.html#tabstat"><i class="fa fa-check"></i><b>4.1</b> <code>tabstat</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>5</b> Datenvisualisierung in Stata</a><ul>
<li class="chapter" data-level="5.1" data-path="dataviz.html"><a href="dataviz.html#grafik-syntax-in-stata"><i class="fa fa-check"></i><b>5.1</b> Grafik-Syntax in Stata</a><ul>
<li class="chapter" data-level="5.1.1" data-path="dataviz.html"><a href="dataviz.html#aufbau"><i class="fa fa-check"></i><b>5.1.1</b> Aufbau</a></li>
<li class="chapter" data-level="5.1.2" data-path="dataviz.html"><a href="dataviz.html#twoway"><i class="fa fa-check"></i><b>5.1.2</b> twoway</a></li>
<li class="chapter" data-level="5.1.3" data-path="dataviz.html"><a href="dataviz.html#kombinieren-von-zwei-twoway-grafiken"><i class="fa fa-check"></i><b>5.1.3</b> Kombinieren von zwei twoway-Grafiken</a></li>
<li class="chapter" data-level="5.1.4" data-path="dataviz.html"><a href="dataviz.html#vorlagen"><i class="fa fa-check"></i><b>5.1.4</b> Vorlagen</a></li>
<li class="chapter" data-level="5.1.5" data-path="dataviz.html"><a href="dataviz.html#optionen"><i class="fa fa-check"></i><b>5.1.5</b> Optionen</a></li>
<li class="chapter" data-level="5.1.6" data-path="dataviz.html"><a href="dataviz.html#farben"><i class="fa fa-check"></i><b>5.1.6</b> Farben</a></li>
<li class="chapter" data-level="5.1.7" data-path="dataviz.html"><a href="dataviz.html#subgruppen"><i class="fa fa-check"></i><b>5.1.7</b> Subgruppen</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dataviz.html"><a href="dataviz.html#beispiele-zum-selbst-anpassen"><i class="fa fa-check"></i><b>5.2</b> Beispiele zum selbst anpassen</a></li>
<li class="chapter" data-level="5.3" data-path="dataviz.html"><a href="dataviz.html#bevölkerungspyramide"><i class="fa fa-check"></i><b>5.3</b> Bevölkerungspyramide</a></li>
<li class="chapter" data-level="5.4" data-path="dataviz.html"><a href="dataviz.html#abschließende-bemerkungen"><i class="fa fa-check"></i><b>5.4</b> Abschließende Bemerkungen</a></li>
<li class="chapter" data-level="5.5" data-path="dataviz.html"><a href="dataviz.html#anhang"><i class="fa fa-check"></i><b>5.5</b> Anhang</a><ul>
<li class="chapter" data-level="5.5.1" data-path="dataviz.html"><a href="dataviz.html#aufb1"><i class="fa fa-check"></i><b>5.5.1</b> Aufbereitung für Boxplot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="lin-reg.html"><a href="lin-reg.html"><i class="fa fa-check"></i><b>6</b> Zusammenhangsmaße</a><ul>
<li class="chapter" data-level="6.1" data-path="lin-reg.html"><a href="lin-reg.html#metrisch-skalierte-variablen"><i class="fa fa-check"></i><b>6.1</b> Metrisch skalierte Variablen</a></li>
<li class="chapter" data-level="6.2" data-path="lin-reg.html"><a href="lin-reg.html#regression"><i class="fa fa-check"></i><b>6.2</b> Regression</a><ul>
<li class="chapter" data-level="6.2.1" data-path="lin-reg.html"><a href="lin-reg.html#beispieldatensatz"><i class="fa fa-check"></i><b>6.2.1</b> Beispieldatensatz</a></li>
<li class="chapter" data-level="6.2.2" data-path="lin-reg.html"><a href="lin-reg.html#idee-einer-regression"><i class="fa fa-check"></i><b>6.2.2</b> Idee einer Regression</a></li>
<li class="chapter" data-level="6.2.3" data-path="lin-reg.html"><a href="lin-reg.html#residuen"><i class="fa fa-check"></i><b>6.2.3</b> Residuen</a></li>
<li class="chapter" data-level="6.2.4" data-path="lin-reg.html"><a href="lin-reg.html#quadrierte-residuen"><i class="fa fa-check"></i><b>6.2.4</b> Quadrierte Residuen</a></li>
<li class="chapter" data-level="6.2.5" data-path="lin-reg.html"><a href="lin-reg.html#interpretation-der-regression"><i class="fa fa-check"></i><b>6.2.5</b> Interpretation der Regression</a></li>
<li class="chapter" data-level="6.2.6" data-path="lin-reg.html"><a href="lin-reg.html#vorhergesagte-werte"><i class="fa fa-check"></i><b>6.2.6</b> Vorhergesagte Werte</a></li>
<li class="chapter" data-level="6.2.7" data-path="lin-reg.html"><a href="lin-reg.html#residuen-teil-2"><i class="fa fa-check"></i><b>6.2.7</b> Residuen Teil 2</a></li>
<li class="chapter" data-level="6.2.8" data-path="lin-reg.html"><a href="lin-reg.html#modellgüte"><i class="fa fa-check"></i><b>6.2.8</b> Modellgüte</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="lin-reg.html"><a href="lin-reg.html#ordinal-skalierte-merkmale"><i class="fa fa-check"></i><b>6.3</b> Ordinal skalierte Merkmale</a></li>
<li class="chapter" data-level="6.4" data-path="lin-reg.html"><a href="lin-reg.html#nominal-skalierte-variablen"><i class="fa fa-check"></i><b>6.4</b> Nominal skalierte Variablen</a><ul>
<li class="chapter" data-level="6.4.1" data-path="lin-reg.html"><a href="lin-reg.html#odds-ratio"><i class="fa fa-check"></i><b>6.4.1</b> Odds Ratio</a></li>
<li class="chapter" data-level="6.4.2" data-path="lin-reg.html"><a href="lin-reg.html#chi²-basierte-maße"><i class="fa fa-check"></i><b>6.4.2</b> Chi²-basierte Maße</a></li>
<li class="chapter" data-level="6.4.3" data-path="lin-reg.html"><a href="lin-reg.html#cramers-upsilon"><i class="fa fa-check"></i><b>6.4.3</b> Cramer’s <span class="math inline">\(\upsilon\)</span></a></li>
<li class="chapter" data-level="6.4.4" data-path="lin-reg.html"><a href="lin-reg.html#indifferenztabelle"><i class="fa fa-check"></i><b>6.4.4</b> Indifferenztabelle</a></li>
<li class="chapter" data-level="6.4.5" data-path="lin-reg.html"><a href="lin-reg.html#phi"><i class="fa fa-check"></i><b>6.4.5</b> <span class="math inline">\(\phi\)</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="inf1.html"><a href="inf1.html"><i class="fa fa-check"></i><b>7</b> Inferenzstatistik I</a></li>
<li class="chapter" data-level="8" data-path="inf2.html"><a href="inf2.html"><i class="fa fa-check"></i><b>8</b> Inferenzstatistik II</a></li>
<li class="chapter" data-level="9" data-path="hypo.html"><a href="hypo.html"><i class="fa fa-check"></i><b>9</b> Hypothesentests</a></li>
<li class="chapter" data-level="10" data-path="export1.html"><a href="export1.html"><i class="fa fa-check"></i><b>10</b> Ergebnisexport &amp; weitere Tipps</a></li>
<li class="chapter" data-level="11" data-path="adva.html"><a href="adva.html"><i class="fa fa-check"></i><b>11</b> Fortgeschrittene Themen</a><ul>
<li class="chapter" data-level="11.1" data-path="adva.html"><a href="adva.html#wertelabels"><i class="fa fa-check"></i><b>11.1</b> Wertelabels</a></li>
<li class="chapter" data-level="11.2" data-path="adva.html"><a href="adva.html#sortieren"><i class="fa fa-check"></i><b>11.2</b> sortieren</a></li>
<li class="chapter" data-level="11.3" data-path="adva.html"><a href="adva.html#indikatoren-umdrehen"><i class="fa fa-check"></i><b>11.3</b> Indikatoren umdrehen</a></li>
<li class="chapter" data-level="11.4" data-path="adva.html"><a href="adva.html#informationen-aus-mehreren-variablen"><i class="fa fa-check"></i><b>11.4</b> Informationen aus mehreren Variablen</a></li>
<li class="chapter" data-level="11.5" data-path="adva.html"><a href="adva.html#informationen-aus-mehreren-datensätzen"><i class="fa fa-check"></i><b>11.5</b> Informationen aus mehreren Datensätzen</a></li>
<li class="chapter" data-level="11.6" data-path="adva.html"><a href="adva.html#arbeiten-mit-textvariablen"><i class="fa fa-check"></i><b>11.6</b> Arbeiten mit Textvariablen</a></li>
<li class="chapter" data-level="11.7" data-path="adva.html"><a href="adva.html#egen"><i class="fa fa-check"></i><b>11.7</b> egen</a></li>
<li class="chapter" data-level="11.8" data-path="adva.html"><a href="adva.html#gruppierte-berechnungen"><i class="fa fa-check"></i><b>11.8</b> gruppierte Berechnungen</a></li>
<li class="chapter" data-level="11.9" data-path="adva.html"><a href="adva.html#collapse"><i class="fa fa-check"></i><b>11.9</b> collapse</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">GESIS Methodenseminar 2020</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="adva" class="section level1">
<h1><span class="header-section-number">11</span> Fortgeschrittene Themen</h1>
<div id="wertelabels" class="section level2">
<h2><span class="header-section-number">11.1</span> Wertelabels</h2>
<p>Wertelabels helfen, Informationen aus dem Codebuch direkt im Datensatz abzulegen und so das arbeiten zu erleichtern. Während Stata-Datensätze häufig mit Labels geliefert werden, müssen wir bei neu erstellten Variablen diese Labels selbst erstellen.</p>
<p>Bspw. wenn wir aus der Altersvariable des Allbus 2018 eine neue Altersgruppen-Variable erstellen:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb1-1"><a href="adva.html#cb1-1"></a><span class="kw">egen</span> age_cat = <span class="fu">cut</span>(age), <span class="fu">at</span>( 18 35 60 100 )</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb2-1"><a href="adva.html#cb2-1"></a><span class="kw">tabulate</span> age_cat</span></code></pre></div>
<pre><code>    age_cat |      Freq.     Percent        Cum.
------------+-----------------------------------
         18 |        718       20.68       20.68
         35 |      1,527       43.98       64.66
         60 |      1,227       35.34      100.00
------------+-----------------------------------
      Total |      3,472      100.00</code></pre>
<p>Um <code>age_cat</code> besser zu beschriften definieren wir ein Wertelabel. Dazu verwenden wir <code>label define</code>, gefolgt von einem Objektnamen für dieses Label (hier <code>age_cat_lab</code>) und dann jeweils die Ausprägungen zusammen mit dem entsprechenden label in <code>""</code>. Dieses Label-Objekt wenden wir dann mit <code>label values</code> auf die Variable <code>age_cat</code> an:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb4-1"><a href="adva.html#cb4-1"></a><span class="kw">label</span> <span class="kw">define</span> age_cat_lab 18 <span class="st">&quot;18-34 Jahre&quot;</span> 35 <span class="st">&quot;35-29 Jahre&quot;</span> 60 <span class="st">&quot;über 60 Jahre&quot;</span> </span>
<span id="cb4-2"><a href="adva.html#cb4-2"></a><span class="kw">label</span> <span class="kw">values</span> age_cat age_cat_lab</span>
<span id="cb4-3"><a href="adva.html#cb4-3"></a><span class="kw">tab</span> age_cat</span></code></pre></div>
<pre><code>      age_cat |      Freq.     Percent        Cum.
--------------+-----------------------------------
  18-34 Jahre |        718       20.68       20.68
  35-29 Jahre |      1,527       43.98       64.66
über 60 Jahre |      1,227       35.34      100.00
--------------+-----------------------------------
        Total |      3,472      100.00</code></pre>
<p>Wir können außerdem mit <code>label variable "Beschreibung"</code> die Variable selbst beschriften, um sie so leichter auffindbar zu machen</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb6-1"><a href="adva.html#cb6-1"></a><span class="kw">describe</span> age_cat</span></code></pre></div>
<pre><code>              storage   display    value
variable name   type    format     label      variable label
--------------------------------------------------------------------------------
age_cat         float   %9.0g                 </code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb8-1"><a href="adva.html#cb8-1"></a><span class="kw">label</span> <span class="kw">variable</span> age_cat <span class="st">&quot;3er Alterseinteilung&quot;</span></span></code></pre></div>
<pre><code></code></pre>
<p>zB. wird dieses Label mit <code>lookfor</code> gefunden:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb10-1"><a href="adva.html#cb10-1"></a><span class="kw">lookfor</span> <span class="st">&quot;Alters&quot;</span></span></code></pre></div>
<pre><code>              storage   display    value
variable name   type    format     label      variable label
--------------------------------------------------------------------------------
age_cat         float   %13.0g     age_cat_lab
                                              3er Alterseinteilung</code></pre>
</div>
<div id="sortieren" class="section level2">
<h2><span class="header-section-number">11.2</span> sortieren</h2>
<p><code>sort</code></p>
</div>
<div id="indikatoren-umdrehen" class="section level2">
<h2><span class="header-section-number">11.3</span> Indikatoren umdrehen</h2>
</div>
<div id="informationen-aus-mehreren-variablen" class="section level2">
<h2><span class="header-section-number">11.4</span> Informationen aus mehreren Variablen</h2>
<p>Manchmal liegt die gewünschte Information nur aufgeteilt auf mehrere Variablen vor. Ein Beispiel hierfür ist die Alterskonstellation von (Ehe-)Paaren. Im Allbus werden sowohl das Alter der Befragten (<code>age</code>) als auch (ggf.) das Alter der*des Partner*in abgefragt. Zudem unterscheidet der Allbus zwischen Lebens- (<code>page</code>) und Ehepartner*innen (<code>scage</code>). Möchten wir jetzt die jeweils den Altersabstand zwischen dem Alter der männlichen und weiblichen (Ehe-)Partner berechnen<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, so müssen wir durch eine Kombination aus <code>gen</code> und <code>replace</code> in mehreren Schritten vorgehen.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb12-1"><a href="adva.html#cb12-1"></a><span class="kw">set</span> <span class="dv">linesize</span> 120</span>
<span id="cb12-2"><a href="adva.html#cb12-2"></a>cd <span class="st">&quot;&quot;</span></span>
<span id="cb12-3"><a href="adva.html#cb12-3"></a><span class="kw">use</span> <span class="st">&quot;Allbus_1980-2018.dta&quot;</span>, <span class="kw">clear</span></span>
<span id="cb12-4"><a href="adva.html#cb12-4"></a><span class="co">// missings ausschließen:</span></span>
<span id="cb12-5"><a href="adva.html#cb12-5"></a><span class="kw">replace</span> mstat = . <span class="kw">if</span> mstat &lt; 0</span>
<span id="cb12-6"><a href="adva.html#cb12-6"></a><span class="kw">mvdecode</span> *yborn, mv( -41 -32 -10 -9 -7 -8 -6 -5 -4 -3 -1 )</span>
<span id="cb12-7"><a href="adva.html#cb12-7"></a><span class="kw">mvdecode</span> *age,   mv( -41 -32 -10 -9 -7 -8 -6 -5 -4 -3 -1 )</span>
<span id="cb12-8"><a href="adva.html#cb12-8"></a><span class="kw">mvdecode</span> *educ,   mv( -41 -32 -10 -9 -7 -8 -6 -5 -4 -3 -1 )</span>
<span id="cb12-9"><a href="adva.html#cb12-9"></a></span>
<span id="cb12-10"><a href="adva.html#cb12-10"></a><span class="co">// Alter von ihr: entweder Befragtenalter wenn sie befragt wurde oder </span></span>
<span id="cb12-11"><a href="adva.html#cb12-11"></a><span class="kw">gen</span> her_age =  age <span class="kw">if</span> sex == 2</span>
<span id="cb12-12"><a href="adva.html#cb12-12"></a><span class="co">// scage wenn *er* befragt wurde und verheiratet ist -&gt; ihr Alter ist in scage</span></span>
<span id="cb12-13"><a href="adva.html#cb12-13"></a><span class="kw">replace</span> her_age = scage <span class="kw">if</span> sex == 1 &amp; mstat == 1</span>
<span id="cb12-14"><a href="adva.html#cb12-14"></a><span class="co">// üage *er* befragt wurde und unverheiratet ist -&gt; ihr Alter ist in page</span></span>
<span id="cb12-15"><a href="adva.html#cb12-15"></a><span class="kw">replace</span> her_age = page <span class="kw">if</span> sex == 1 &amp; mstat != 1</span>
<span id="cb12-16"><a href="adva.html#cb12-16"></a></span>
<span id="cb12-17"><a href="adva.html#cb12-17"></a><span class="co">// Alter von ihm: entweder Befragtenalter wenn er befragt wurde oder </span></span>
<span id="cb12-18"><a href="adva.html#cb12-18"></a><span class="kw">gen</span> his_age =  age <span class="kw">if</span> sex == 1</span>
<span id="cb12-19"><a href="adva.html#cb12-19"></a><span class="co">// scage wenn *sie* befragt wurde und verheiratet ist -&gt; ihr Alter ist in scage</span></span>
<span id="cb12-20"><a href="adva.html#cb12-20"></a><span class="kw">replace</span> his_age = scage <span class="kw">if</span> sex == 2 &amp; mstat == 1</span>
<span id="cb12-21"><a href="adva.html#cb12-21"></a><span class="co">// page wenn *sie* befragt wurde und verheiratet ist -&gt; ihre Alter ist in scage</span></span>
<span id="cb12-22"><a href="adva.html#cb12-22"></a><span class="kw">replace</span> his_age = page <span class="kw">if</span> sex == 2 &amp; mstat != 1</span>
<span id="cb12-23"><a href="adva.html#cb12-23"></a></span>
<span id="cb12-24"><a href="adva.html#cb12-24"></a><span class="kw">gen</span> age_diff = his_age - her_age <span class="kw">if</span> !<span class="fu">missing</span>(his_age) &amp; !<span class="fu">missing</span>(her_age)</span>
<span id="cb12-25"><a href="adva.html#cb12-25"></a>su age_diff</span></code></pre></div>
</div>
<div id="informationen-aus-mehreren-datensätzen" class="section level2">
<h2><span class="header-section-number">11.5</span> Informationen aus mehreren Datensätzen</h2>
<p><code>merge</code></p>
</div>
<div id="arbeiten-mit-textvariablen" class="section level2">
<h2><span class="header-section-number">11.6</span> Arbeiten mit Textvariablen</h2>
<p><code>substr</code></p>
<p><code>regexr</code></p>
<p><code>regexm</code></p>
</div>
<div id="egen" class="section level2">
<h2><span class="header-section-number">11.7</span> egen</h2>
<p><code>egen</code> ist die Erweiterung von <code>gen</code> und gibt uns die Möglichkeit, eine ganze Reihe von Berechnungen durchzuführen.</p>
</div>
<div id="gruppierte-berechnungen" class="section level2">
<h2><span class="header-section-number">11.8</span> gruppierte Berechnungen</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb13-1"><a href="adva.html#cb13-1"></a><span class="kw">bys</span> agec: <span class="kw">egen</span> mean_inc = <span class="kw">mean</span>(inc)</span>
<span id="cb13-2"><a href="adva.html#cb13-2"></a><span class="ot">list</span> agec mean_inc <span class="kw">in</span> 1/10</span></code></pre></div>
</div>
<div id="collapse" class="section level2">
<h2><span class="header-section-number">11.9</span> collapse</h2>
<p>Manchmal möchten wir vielleicht nur einen Mittelwert pro Gruppe und die einzelnen Werte interessieren uns gar nicht. Wir möchten unseren Datensatz also verkürzen, sodass er lediglich einen Wert pro Gruppe enthält. Dazu</p>

</div>
</div>






<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Diese Beispiel bezieht sich also nur auf heterosexuelle Paare.<a href="adva.html#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="export1.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
